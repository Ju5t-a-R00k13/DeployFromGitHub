<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" type="image/png" sizes="16x16" href="img/icon16x16.png">
    <title>My Little Shop</title>
    <link href="css/lib/bootstrap/bootstrap.min.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">

    <script src="https://www.gstatic.com/firebasejs/4.9.0/firebase.js"></script>
    <script>
      // Initialize Firebase
     var config = {
         apiKey: "AIzaSyAn1hP3ISXUv7A5as9gBu55PtZfx7mU5g0",
         authDomain: "my-little-shop-41012.firebaseapp.com",
         databaseURL: "https://my-little-shop-41012.firebaseio.com",
         projectId: "my-little-shop-41012",
         storageBucket: "my-little-shop-41012.appspot.com",
         messagingSenderId: "439274339673",
       };
       firebase.initializeApp(config);
    </script>

</head>
<body>
    <div class="main-wrapper">
        <div class="header">
            <nav class="navbar top-navbar navbar-expand-md navbar-light">
                <!-- Logo -->
                <div class="navbar-header">
                    <a class="navbar-brand" href="index.html">
                        <!-- Logo icon -->
                        <b><img src="img/logo.png" alt="homepage" class="dark-logo" /></b>
                        <!-- Logo text -->
                        <span><img src="images/logo-text.png" alt="My Little Shop" class="dark-logo" /></span>
                    </a>
                </div>
       
               
            </nav>
        </div>
        <div class="left-sidebar">
             <nav class="sidebar-nav">
                    <ul id="sidebarnav">
                        <li class="nav-devider"></li>
                        <li class="nav-label">Home</li>
                        <li> <a class="has-no-arrow " href="index.html" aria-expanded="false"><i class="fa fa-tachometer"></i><span class="hide-menu">Dashboard</span></a>
                           
                        </li>
                        <li class="nav-label">User</li>
                        <li> <a class="has-no-arrow  " href="manage-user.html" aria-expanded="false"><i class="fa fa-user"></i><span class="hide-menu">User</span></a>
                           
                        </li>
                        <li class="nav-label">Product</li>
                        <li> <a class="has-no-arrow  " href="manage-product.html" aria-expanded="false"><i class="fa fa-plus"></i><span class="hide-menu">Add Product</span></a>
                            <li> <a class="has-no-arrow active " href="manage-product-check.html" aria-expanded="false"><i class="fa fa-qrcode"></i><span class="hide-menu">Check Product</span></a>  
                    </ul>
                </nav>
        </div>
        <div class="page-wrapper bg-light">
            <div class="container-fluid ">
                <div class="row">
                    <div class="col-lg-12">
                        <div class="card">
                            <div class="card-title form-title">
                                <h4>Input Product Data</h4>

                            </div>
                            <div class="card-body">
                                <div class="basic-form">
                                    <form>
                                        <div class="form-group">
                                            <p class="text-muted m-b-15 f-s-12">Product Code</p>
                                            <input type="text" class="form-control input-default" id="pCode" placeholder="">
                                        </div>
                                        <div class="form-group">
                                            <p class="text-muted m-b-15 f-s-12">Price</p>
                                            <input type="text" class="form-control input-default " id="pPrice" placeholder="">
                                        </div>
                                        <div class="form-group">
                                            <p class="text-muted m-b-15 f-s-12">Stock</p>
                                            <input type="text" class="form-control input-default " id="pStock" placeholder="">
                                        </div>
                                        <button class="btn btn-success" type="button" onclick="import_product()">Import</button>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                </div>
            </div>
        </div>
    </div>
</body>

<script>
function import_product(){
   var code= document.getElementById('pCode').value;
   var price= document.getElementById('pPrice').value;
   var stock= document.getElementById('pStock').value;
   var shop = 1;  
   var databaseRef = firebase.database().ref('product/');
   databaseRef.once('value', function(snapshot) {
    snapshot.forEach(function(childSnapshot) {
   var childKey = childSnapshot.key;
   var childData = childSnapshot.val();
    alert(childKey);
    })});
   
   var data = {
    product_price: price,
    stock: stock,
    store_id: shop
   }
   
   var updates = {};
   updates['/product/' + code] = data;
   firebase.database().ref().update(updates);
   
   alert('The user is created successfully!');
   reload_page();
  }
</script>

</html>